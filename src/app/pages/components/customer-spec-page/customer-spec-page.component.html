

<div class="container">
  <div class="customer-details">
    <div class="customer-header">
      <h1 class="page-title">Detalhes do Cliente</h1>
    </div>

    <div class="customer-info">
      <form
        [formGroup]="editFormGroup"
        (ngSubmit)="handleSubmit()"
        class="customer-form"
      >
        <div class="form-group">
          <label for="name">Nome do Cliente:</label>
          <input
            type="text"
            id="name"
            formControlName="name"
            class="form-control"
            [value]="customer.name"
          />
        </div>
        <div class="form-group">
          <label for="address">Endereço do Cliente:</label>
          <input
            type="text"
            id="address"
            formControlName="address"
            class="form-control"
            [value]="customer.address"
          />
        </div>
        <div class="form-group">
          <label for="address">Telefone do Cliente:</label>
          <input
            type="text"
            id="phone"
            formControlName="phone"
            class="form-control"
            [value]="customer.phone"
          />
        </div>
        <div class="form-group">
          <label for="dateToChange">Data da última troca:</label>
          <input
            type="text"
            id="dateToChange"
            formControlName="dateToChange"
            class="form-control"
            [value]="customer.dateToChange"
          />
        </div>
        <div class="info-row">
          <p><strong>Atualizado em:</strong> {{ customer.updatedAt | date }}</p>
        </div>
        <button type="submit" class="btn btn-edit">Editar</button>
      </form>
    </div>
    <div class="add-product">
      <h1>Adicionar novo produto ao cliente</h1>
      <form [formGroup]="addProductGroup" (ngSubmit)="handleAddProduct()">
        <div class="form-group">
          <select
            formControlName="product"
            id="customerProduct"
            class="form-control"
          >
            <option value="">Selecione um produto</option>
            @for (product of products; track product.id) {
            <option [value]="product.id">{{ product.name }}</option>
            }
          </select>
        </div>
        <button type="submit" class="btn btn-add">Adicionar</button>
      </form>
    </div>
    <div class="customer-products">
      <h2>Produtos</h2>
      <ul class="product-list">
        @for ( product of customer.products; track product.id) {
        <li class="product-item">
          <p><strong>Nome:</strong> {{ product.name }}</p>
          <p><strong>Valor:</strong> R$ {{ product.value }}</p>
          <p><strong>Quantidade em estoque:</strong> {{ product.quantity }}</p>
        </li>
        }
      </ul>
    </div>
  </div>
</div>

