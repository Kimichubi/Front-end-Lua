<app-header></app-header>

<div class="container">
  <div class="customer-details">
    <div class="customer-header">
      <h1 class="page-title">Detalhes do Cliente</h1>
    </div>

    <div class="customer-info">
      <form
        [formGroup]="editFormGroup"
        (ngSubmit)="handleSubmit()"
        class="customer-form"
      >
        <div class="form-group">
          <label for="name">Nome do Cliente:</label>
          <input
            type="text"
            id="name"
            formControlName="name"
            class="form-control"
            [value]="customer.name"
          />
        </div>
        <div class="form-group">
          <label for="address">Endere√ßo do Cliente:</label>
          <input
            type="text"
            id="address"
            formControlName="address"
            class="form-control"
            [value]="customer.address"
          />
        </div>
        <p><strong>ID:</strong> {{ customer.id }}</p>
        <p><strong>Criado em:</strong> {{ customer.createdAt | date }}</p>
        <p><strong>Atualizado em:</strong> {{ customer.updatedAt | date }}</p>
        <button type="submit" class="btn-edit">Editar</button>
      </form>
    </div>
    <div>
      <h1>Adicionar novo produto ao cliente</h1>
      <form [formGroup]="addProductGroup" (ngSubmit)="handleAddProduct()" action="">
        <select
          formControlName="product"
          id="customerProduct"
          required
          class="form-input"
        >
          <option value="">Selecione um produto</option>
          @for (product of products; track product.id) {
          <option [value]="product.id">{{ product.name }}</option>
          }
        </select>
        <button type="submit">Adicionar</button>
      </form>
    </div>
    <div class="customer-products">
      <h2>Produtos</h2>
      <ul class="product-list">
        @for ( product of customer.products; track product.id) {
        <li class="product-item">
          <p><strong>Nome:</strong> {{ product.name }}</p>
          <p><strong>Valor:</strong> R$ {{ product.value }}</p>
          <p><strong>Quantidade:</strong> {{ product.quantity }}</p>
        </li>
        }
      </ul>
    </div>
  </div>
</div>

<app-footer></app-footer>
